/*! (C) Andrea Giammarchi Mit Style License */
var notify=function(){'use strict';const a=(b)=>{let c=!0;const d=b.create(null),e=(l,m)=>{const n=k.get(m);if(n)k.delete(m),e(l,n);else{const o=f(l).cb,p=o.indexOf(m);~p&&o.splice(p,1)}},f=(l)=>d[l]||(d[l]={args:null,cb:[]}),g=(l)=>Promise.resolve(l),h=(l,...m)=>{let n=0,o=m.length;if(1>o)return(...p)=>h(...[l,...p]);const p=f(l),q=p.cb.splice(n,o=p.cb.length);p.args=m;for(const s=[...m];n<o;)g(q[n++]).then((t)=>t(...s))},j=(l,...m)=>{const n=f(l),o=n.args;let p,q=m[0];return 1>m.length&&(p=new Promise((s)=>q=s)),c&&o?g().then(()=>q(...o)):!n.cb.includes(q)&&n.cb.push(q),p},k=new WeakMap;return b.freeze({about:h,all:(l,m)=>{if(!k.get(m)){const n=(...o)=>{c=!1,j(l,n),c=!0,g().then(m(...o))};k.set(m,n),j(l,n)}},drop:e,new:()=>a(b),that:h,when:j})};return a(Object)}();
