/*! (C) Andrea Giammarchi Mit Style License */
var notify=function(){function e(t){"use strict";function s(e){return r.call(n,e)?n[e]:n[e]={notified:!1,value:null,cb:[]}}var n=(t.create||t)(null),r=t.prototype.hasOwnProperty,i=Array.prototype.indexOf||function(t){var n=this.length;while(n--&&this[n]!==t);return n};return(t.freeze||t)({when:function(e,t){var n=s(e);n.notified?t(n.value):i.call(n.cb,t)<0&&n.cb.push(t)},about:function(e,t){var n=s(e),r=n.cb.splice(0,n.cb.length),i=0;n.notified=!0,n.value=t;while(i<r.length)r[i++](t)},drop:function(e,t){var n=s(e).cb,r=i.call(n,t);-1<r&&n.splice(r,1)},"new":function(){return e(t)}})}return e(Object)}();