/*! (C) Andrea Giammarchi Mit Style License */
var notify=function(){function e(t){"use strict";function u(e){return r.call(n,e)?n[e]:n[e]={args:null,cb:[]}}function a(e){var t=arguments.length,n=u(e),r=1,i;if(r===t)return function(){var t=[e];return t.push.apply(t,arguments),a.apply(null,t)};n.args=[];while(r<t)n.args.push(arguments[r++]);r=0,t=n.cb.length,i=n.cb.splice(0,t);while(r<t)i[r++].apply(null,n.args)}function f(e,t){var n=u(e),r;return arguments.length===1&&(r=new Promise(function(e){t=e})),s&&n.args?t.apply(null,n.args):i.call(n.cb,t)<0&&n.cb.push(t),r}var n=(t.create||t)(null),r=t.prototype.hasOwnProperty,i=Array.prototype.indexOf||function(t){var n=this.length;while(n--&&this[n]!==t);return n},s=!0,o=typeof WeakMap=="undefined"?function(e,t,n){return{"delete":function(r){n=i.call(e,r),~n&&(e.splice(n,1),t.splice(n,1))},get:function(n){return t[i.call(e,n)]},set:function(r,s){n=i.call(e,r),t[n<0?e.push(r)-1:n]=s}}}([],[],0):new WeakMap;return(t.freeze||t)({when:f,about:a,that:a,drop:function l(e,t){var n=o.get(t),r,s;n?(o["delete"](t),l(e,n)):(r=u(e).cb,s=i.call(r,t),~s&&r.splice(s,1))},"new":function(){return e(t)},all:function(t,n){o.get(n)||(o.set(n,function r(){s=!1,f(t,r),s=!0,n.apply(null,arguments)}),f(t,o.get(n)))}})}return e(Object)}();